title: 插件ranking （二）
date: 2014-07-01 22:50:27
tags: jquery plugin
---

隔了好久没有更新了，由于换了工作的原因，刚开始有点忙碌，换了一个城市生活，需要适应的地方很多。好了继续说说上次的插件ranking。

这个插件其实比较简单，只用到几个技术，一个就是ajax取数据，一个就是动画，还有就是事件的监听了。

**************

1：需要确定的ajax读取数据这一部分，需要跟后端的人定义好接口方面，例如：每次读取多少人的数据，开始页数，一个简单的分页而已。

**************

2：拿到数据后的展示方式，因为要有横纵两个，而且个人觉得这只是页面显示的一部分，所以应该弄得小一点，例如 纵向的时候就显示到左上或者右上角，横向放置于最下方。这样的方式觉得了不能监听整个window的scroll事件，需要自己要写DIV来嵌套。
	<div class="ranking-content">
	    <div class="ranking-detail">
	        <ul><li></li><li></li></ul>
	    </div>
	</div>

content是用来外包住整个插件的显示，detail用来监听滚动的。这个可以根据需要设为横纵向来区别，ul里面放li元素，所有有关数据都显示在这里面。这里在监听的时候需要注意的是，事件的绑定和取消，要不在滑动到最下面的时候，会重复执行动作。可以用 $.one 或者 取消绑定也行。

**************

3：就是动画，我这里采用的 jquery的animate 和 css3 的animation结合的方式，选定一个最高值的宽度或者高度，来确定其他的相对高宽，先加入css3的这个clss，当拖动滑条到显示区域以后才显示出来数据的动画，平缓增长。如果ie下不支持css3，那么需要用animate来执行一个动画效果，就是不是特别平滑。

**************

整个插件就是这样，下面是插件的地址，欢迎拍砖。
<a href="https://github.com/LeslieYQ/ranking">github view</a>